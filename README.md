Тема 3. Домашня робота



Ваша мета реалізувати найпростіший веб-додаток. За основу взяти наступні файли з цього репозиторію https://github.com/GoIT-Python-Web/FullStack-Web-Development-hw3.



Технічний опис завдання

За аналогією з розглянутим прикладом у конспекті, створіть веб-додаток з маршрутизацією для двох html сторінок: index.html та message.html.

Також:

Обробіть під час роботи програми статичні ресурси: style.css, logo.png;
Організуйте роботу з формою на сторінці message.html;
У разі виникнення помилки 404 Not Found повертайте сторінку error.html
Ваша програма працює на порту 3000


При роботі з формою отриманий байт-рядок перетворюємо у словник і зберігаємо його в json файл data.json в директорію storage.



Формат запису файлу data.json наступний:

{
  "2022-10-29 20:20:58.020261": {
    "username": "krabaton",
    "message": "First message"
  },
  "2022-10-29 20:21:11.812177": {
    "username": "Krabat",
    "message": "Second message"
  }
}

Де ключ кожного повідомлення - це час отримання повідомлення: datetime.now(). Тобто кожне нове повідомлення від веб-програми дописується до файлу storage/data.json з часом отримання.



Додайте маршрут /read при звертанні до якого буде сформована інформаційна сторінка. Ця сторінка повинна бути шаблоном Jinja2. Вона повинна виводити всі збереженні сповіщення з файлу data.json



Додаткове завдання

Це додаткове завдання і його можна не виконувати для здачі цього домашнього завдання.

Створіть Dockerfile та запустіть ваш додаток як Docker-контейнер
За допомогою механізму voluemes, зберігайте дані з storage/data.json не всередині контейнера


Основні вимоги:



1. Маршрутизація.

Створені дві HTML-сторінки: index.html та message.html.
Присутня обробка статичних ресурсів (файл style.css, зображення logo.png).
Веб-додаток працює на порту 3000.


2. Обробка форм.

Форма на сторінці message.html працює коректно, відправляє дані (username та message).
Дані з форми перетворюються на словник та записуються у файл data.json у форматі:
{
  "%timestamp%": {
    "username": "example",
    "message": "example message"
  }
}



3. При зверненні до маршруту /read повертається шаблонна сторінка Jinja2, яка виводить всі збережені повідомлення з файлу data.json.



4. При виникненні помилки 404 повертається сторінка error.html.



5. Повідомлення зберігаються у файл storage/data.json у форматі JSON, де ключ - це час отримання повідомлення.



Додаткові вимоги (опціональні, не обов’язкові для виконання):



- Створений Dockerfile, який дозволяє запустити додаток як Docker-контейнер.



- Застосовано механізм volumes для збереження файлу data.json за межами контейнера.
